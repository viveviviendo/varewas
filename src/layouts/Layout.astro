---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import '../styles/global.css';

const {
  title = "VAREWAS | Swiss RWA & Digital Asset Structuring",
  description = "VAREWAS is a Swiss-based boutique platform for Real-World Asset tokenization, SPV structuring and compliant digital issuance.",
} = Astro.props;

const lang = Astro.currentLocale || 'en';
---

<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="alternate" hreflang="en" href={new URL(`/en${Astro.url.pathname.replace(/^\/(?:en|es|fr)/, '')}`, Astro.url.origin)} />
    <link rel="alternate" hreflang="es" href={new URL(`/es${Astro.url.pathname.replace(/^\/(?:en|es|fr)/, '')}`, Astro.url.origin)} />
    <link rel="alternate" hreflang="fr" href={new URL(`/fr${Astro.url.pathname.replace(/^\/(?:en|es|fr)/, '')}`, Astro.url.origin)} />
  </head>
  <body>
    <Header />
    <main class="page">
      <slot />
    </main>
    <Footer />
    <script>
        // Simple persistence (optional, can be enhanced)
        // If user visits root / and has a preference, they might be redirected by server or middleware, 
        // but explicit path usually overrides. 
    </script>
  </body>


  <style>
    /* Layout specific styles only */
    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    main.page > section {
      padding: 4.5rem 1.5rem;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
  </style>
</html>